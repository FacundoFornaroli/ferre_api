游댌 쯈u칠 son los Schemas?
Los schemas son como "plantillas" que definen la estructura de los datos. Son como los formularios que llenas en el banco o en cualquier aplicaci칩n.
游닇 Estructura b치sica de un Schema
1. Importaciones necesarias
from pydantic import BaseModel, validator
from typing import Optional, List
from datetime import datetime

쯈u칠 hace cada importaci칩n?
BaseModel: Es la clase base de Pydantic. Todos los schemas deben heredar de aqu칤.
validator: Permite crear funciones de validaci칩n personalizadas.
Optional: Permite que un campo sea opcional (no obligatorio).
List: Permite crear listas de datos.
datetime: Para manejar fechas y horas.
   An치lisis detallado de un Schema completo
Vamos a analizar el schema de Productos l칤nea por l칤nea:

class ProductosBase(BaseModel):
    """Esquema base para productos"""
    Nombre: str
    Descripcion: str
    Precio: float
    Costo: float
    ID_Categoria: int
    ID_Unidad_de_medida: int

Desglose l칤nea por l칤nea:
L칤nea 1: class ProductosBase(BaseModel):
class: Define una nueva clase en Python.
ProductosBase: Nombre de la clase (convenci칩n: PascalCase).
(BaseModel):: Hereda de BaseModel (permite validaci칩n autom치tica).
L칤nea 2: """Esquema base para productos"""
Docstring: Documentaci칩n de la clase (aparece en la documentaci칩n autom치tica).
L칤neas 3-8: Campos del schema
Nombre: str: Campo llamado "Nombre" que debe ser texto (string).
Descripcion: str: Campo llamado "Descripci칩n" que debe ser texto.
Precio: float: Campo llamado "Precio" que debe ser n칰mero decimal.
Costo: float: Campo llamado "Costo" que debe ser n칰mero decimal.
ID_Categoria: int: Campo llamado "ID_Categoria" que debe ser n칰mero entero.
ID_Unidad_de_medida: int: Campo llamado "ID_Unidad_de_medida" que debe ser n칰mero entero.
游댌 Schema para Crear con Validaciones

class ProductosCreate(ProductosBase):
    """Esquema para crear un nuevo producto"""
    @validator('Precio')
    def validar_precio(cls, v):
        if v < 0:
            raise ValueError('El precio debe ser mayor o igual a 0')
        return v
    
    @validator('Costo')
    def validar_costo(cls, v):
        if v < 0:
            raise ValueError('El costo debe ser mayor o igual a 0')
        return v

Desglose l칤nea por l칤nea:
L칤nea 1: class ProductosCreate(ProductosBase):
ProductosCreate: Nombre de la clase para crear productos.
(ProductosBase):: Hereda todos los campos de ProductosBase.
L칤nea 2: """Esquema para crear un nuevo producto"""
Documentaci칩n espec칤fica para este schema.
L칤nea 3: @validator('Precio')
@validator: Decorador que indica que es una funci칩n de validaci칩n.
('Precio'): Especifica qu칠 campo va a validar.
L칤nea 4: def validar_precio(cls, v):
def: Define una nueva funci칩n.
validar_precio: Nombre de la funci칩n.
cls: Referencia a la clase (requerido por Pydantic).
v: Valor del campo que se est치 validando.
L칤nea 5: if v < 0:
Condici칩n: Si el valor es menor que 0.
L칤nea 6: raise ValueError('El precio debe ser mayor o igual a 0')
raise: Lanza una excepci칩n (error).
ValueError: Tipo de error espec칤fico.
Mensaje: Explica qu칠 est치 mal.
L칤nea 7: return v
return: Devuelve el valor si es v치lido.
   Schema para Actualizar

class ProductosUpdate(BaseModel):
    """Esquema para actualizar un producto"""
    Nombre: Optional[str] = None
    Descripcion: Optional[str] = None
    Precio: Optional[float] = None
    Costo: Optional[float] = None
    ID_Categoria: Optional[int] = None
    ID_Unidad_de_medida: Optional[int] = None

Desglose l칤nea por l칤nea:
L칤nea 1: class ProductosUpdate(BaseModel):
ProductosUpdate: Nombre de la clase para actualizar productos.
(BaseModel):: Hereda directamente de BaseModel (no de ProductosBase).
L칤neas 2-7: Campos opcionales
Optional[str]: El campo puede ser texto O None (nulo).
= None: Valor por defecto si no se env칤a el campo.
쯇or qu칠 todos opcionales?
Para permitir actualizar solo algunos campos.
Si quieres cambiar solo el precio, no necesitas enviar todos los dem치s campos.
游댌 Schema para Mostrar (Response)

class Productos(ProductosBase):
    """Esquema para mostrar un producto"""
    ID_Producto: int
    
    class Config:
        from_attributes = True

Desglose l칤nea por l칤nea:
L칤nea 1: class Productos(ProductosBase):
Productos: Nombre de la clase para mostrar productos.
(ProductosBase):: Hereda todos los campos de ProductosBase.
L칤nea 2: ID_Producto: int
Campo adicional: Incluye el ID generado por la base de datos.
L칤nea 3: class Config:
Clase de configuraci칩n: Define configuraciones especiales para Pydantic.
L칤nea 4: from_attributes = True
Configuraci칩n: Permite que Pydantic convierta objetos de SQLAlchemy autom치ticamente.

